version: 1

backend:
  phases:
    preBuild:
      commands:
         - npm ci
    build:
      commands:
        - npm install pm2 -g
    postBuild:
        commands:
        - pm2 start server.js
    
    frontend:
  phases:
    preBuild:
      commands:
        - npm ci
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: dist/juniordev
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
 
    
